appId: com.paschek.chatbox
productName: PascheK Chatbox
directories:
  output: dist
  buildResources: assets

# ğŸ§  Le fichier principal (compilÃ© par tsc)
files:
  - dist-electron/**
  - .next/**
  - package.json

# âœ… Active ASAR (obligatoire sinon erreur index.js)
asar: true

extraMetadata:
  main: "dist-electron/main.cjs"

# ğŸ macOS config
mac:
  target:
    - dmg
  category: public.app-category.productivity
  icon: assets/icons/icon.icns

# ğŸªŸ Windows config
win:
  target:
    - nsis
    - zip
  icon: assets/icons/icon.ico


nsis:
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true
  deleteAppDataOnUninstall: true

afterPack: ./scripts/after-pack.js

extraResources:
  - from: .env.local
    to: .env.local
